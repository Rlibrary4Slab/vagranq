// Generated by CoffeeScript 1.10.0
(function() {
  var aaaa, cccc, idNum, jam, priorityStyle, red, regst, regz, tsubmit;

  aaaa = 0;

  regz = new RegExp('^cke_article_contents_attributes_([0-9+])_description$');

  regst = new RegExp('^cke_article_contents_attributes_([0-9+])_title$');

  $(window).on("load", function() {
    return $('fieldset div').each(function() {
      var z;
      if (z = $(this).prop('id').match(regz)) {
        aaaa = z[1];
        return console.log("ロード=" + aaaa);
      }
    });
  });

  red = 0;

  priorityStyle = 'none';

  idNum = 0;

  cccc = 0;

  jam = [];

  $(document).on('ready page:load', function() {
    console.log("どくめんｔ");
    return $('fieldset div').each(function() {
      var z;
      if (z = $(this).prop('id').match(regz)) {
        aaaa = z[1];
        return console.log("ロード=" + aaaa);
      }
    });
  });

  $(document).on('click', '.remove_fields', function(event) {
    $(this).prev('input[type=hidden]').val('1');
    $(this).closest('fieldset').hide();
    $('fieldset div').each(function() {
      var $parentDiv, $this, z;
      if (z = $(this).prop('id').match(regz)) {
        console.log("z=" + z[1]);
        $this = $(this);
        $parentDiv = $this.parents('fieldset');
        aaaa = z[1];
        console.log("aaaa" + z[1]);
        if ($parentDiv.css('display') === priorityStyle) {
          red++;
          $this.removeAttr("id");
          console.log("red=" + red);
          return true;
        }
      }
    });
    return event.preventDefault();
  });

  $(document).on('click', '.add_fields', function(event) {
    var regexp;
    aaaa++;
    regexp = new RegExp($(this).data('id'), 'g');
    $(this).before($(this).data('fields').replace(regexp, aaaa));
    CKEDITOR.replaceAll();
    return event.preventDefault();
  });

  $('#ssubmit').click(function() {
    var sitem, titem;
    $();
    $("fieldset").css("background", "gray");
    titem = document.getElementById("titem").innerHTML;
    document.getElementById("article_title").innerHTML = titem;
    sitem = document.getElementById("sitem").innerHTML;
    return document.getElementById("article_description").innerHTML = sitem;
  });

  $('#iitem').click(function() {
    $(".form-group").css("background", "white");
    $("#titem").hide();
    return $("#sitem").hide();
  });

  $('#asubmit').click(function() {
    var fadd, fdiv, item, prank;
    rCount++;
    item = document.createElement('div');
    item.innerHTML = '<div id="titem" >title</div><div id="sitem" class="s1">description</div>';
    prank = document.getElementById("previewRank");
    prank.appendChild(item);
    fdiv = document.createElement('div');
    fdiv.innerHTML = '<div id="form-add"></div><div id="iitem"><div id="previewRank"><div id="titem" class="t1"></div><div id="sitem" class="s1"></div></div></div>';
    fadd = document.getElementById("form-add");
    return fadd.appendChild(fdiv);
  });

  tsubmit = 0;

  $(document).on('click', function() {
    var eyeimg;
    $('img').css({
      "height": "28.2%",
      "width": "100%"
    });
    if ($('table tbody tr td div table tbody tr:first-child td div table tbody tr td table tbody tr td div div div input').val() !== "") {
      $('img').css({
        "height": "28.2%",
        "width": "100%"
      });
      $('.cke_dialog_ui_button_ok').css({
        "display": ""
      });
      console.log("textinput");
    } else {
      $('.cke_dialog_ui_button_ok').css({
        "display": "none"
      });
      console.log("null");
    }
    $('img').css({
      "height": "28.2%",
      "width": "100%"
    });
    $('fieldset div').each(function() {
      var z;
      if (z = $(this).prop('id').match(regz)) {
        aaaa = z[1];
        return console.log("ロード=" + aaaa);
      }
    });
    $('table tbody tr:nth-child(3) td table tbody tr td.cke_dialog_ui_hbox_first div.cke_dialog_ui_vbox table tbody tr:first-child td table tbody tr .cke_dialog_ui_hbox_first div table tbody tr:first-child td div div div input').val("100%");
    $('table tbody tr:nth-child(3) td table tbody tr td.cke_dialog_ui_hbox_first div.cke_dialog_ui_vbox table tbody tr:first-child td table tbody tr .cke_dialog_ui_hbox_first div table tbody tr:nth-child(2) td div div div input').val("100%");
    $('.cke_btn_reset').click();
    eyeimg = $("fieldset div div div iframe").contents().find("html body p img");
    return eyeimg.prop("src");
  });

  $(document).on('click', '.cke_btn_reset', function() {
    if ($('table tbody tr td div table tbody tr:first-child td div table tbody tr td table tbody tr td div div div input').val() !== "") {
      $('.cke_dialog_ui_button_ok').css({
        "display": ""
      });
      console.log("textinput");
    } else {
      $('.cke_dialog_ui_button_ok').css({
        "display": "none"
      });
      console.log("null");
    }
    $('table tbody tr:nth-child(3) td table tbody tr td.cke_dialog_ui_hbox_first div.cke_dialog_ui_vbox table tbody tr:nth-child(2) td div table tbody tr td div div div input').val("");
    $('table tbody tr:nth-child(3) td table tbody tr td.cke_dialog_ui_hbox_first div.cke_dialog_ui_vbox table tbody tr:first-child td table tbody tr .cke_dialog_ui_hbox_first div table tbody tr:first-child td div div div input').val("100%");
    $('table tbody tr:nth-child(3) td table tbody tr td.cke_dialog_ui_hbox_first div.cke_dialog_ui_vbox table tbody tr:first-child td table tbody tr .cke_dialog_ui_hbox_first div table tbody tr:nth-child(2) td div div div input').val("100%");
    return $('img').css({
      "height": "28.2%",
      "width": "100%"
    });
  });

  $(document).on('click', '.cke_button__image', function() {
    var iurtmp;
    iurtmp = $(this).parents('div').children().eq(3).attr('id');
    $("#iurtmp").val(iurtmp.replace("_arialbl", ""));
    $('table tbody tr td div table tbody tr:first-child td div table tbody tr td table tbody tr td div div div input').val("");
    $("html body").append('<div tabindex="-1" style="position: fixed; z-index: 5000; top: 0px; left: 0px; background-color: white; opacity: 0.5; width: 100%; height: 100%;" class="cke_dialog_background_cover"></div>');
    $("body div.cke_reset_all").css({
      "display": ""
    });
    $('.cke_dialog_footer table tbody tr td a.cke_btn_reset').remove();
    if ($('.cke_dialog_ui_hbox_first').has("a:nth-child(3)")) {
      $('.cke_dialog_ui_hbox_first').append('<a href="javascript:void(0)" tabindex="-1" title="サイズをリセット" class="cke_btn_reset" id="cke_213_btnResetSize" style="" role="button"><span class="cke_label">サイズをリセット</span></a>');
    } else {

    }
    return $('.cke_dialog_footer table tbody tr td a.cke_btn_reset').remove();
  });

  $(document).on('click', '.cke_dialog_ui_button_cancel', function() {
    $('.cke_btn_reset').remove();
    $('html body div.cke_reset_all').remove();
    $("body div.cke_dialog_background_cover").remove();
    return $('.cke_dialog_footer table tbody tr td a.cke_btn_reset').remove();
  });

  $(document).on('click', '.cke_dialog_close_button', function() {
    $('a.cke_btn_reset').remove();
    $('body div.cke_reset_all').remove();
    $('.cke_dialog_footer table tbody tr td a.cke_btn_reset').remove();
    return $("body div.cke_dialog_background_cover").remove();
  });

  $(document).on('click', '.cke_dialog_ui_button_ok', function() {
    $('table tbody tr:nth-child(3) td table tbody tr td.cke_dialog_ui_hbox_first div.cke_dialog_ui_vbox table tbody tr td table tbody tr .cke_dialog_ui_hbox_first div table tbody tr:first-child td div div div input').val("100%");
    $('table tbody tr:nth-child(3) td table tbody tr td.cke_dialog_ui_hbox_first div.cke_dialog_ui_vbox table tbody tr td table tbody tr .cke_dialog_ui_hbox_first div table tbody tr:nth-child(2) td div div div input').val("100%");
    $("body div.cke_dialog_background_cover").remove();
    $('.cke_btn_reset').remove();
    $('.cke_dialog_footer table tbody tr td a.cke_btn_reset').remove();
    return $('html body div.cke_reset_all').remove();
  });

  $(document).on("click", ".tsubmit", function() {
    var dddd, i, j, k, kml, l, lab, maxf, ref, ref1, results, tmp;
    idNum = 0;
    console.log("スイッチ=" + aaaa);
    aaaa = 0;
    cccc = 0;
    dddd = 0;
    red = 0;
    maxf = 0;
    $('fieldset div').each(function() {
      var $parentDiv, $this, z;
      if (z = $(this).prop('id').match(regz)) {
        console.log("z=" + z[1]);
        $this = $(this);
        $parentDiv = $this.parents('fieldset');
        aaaa = z[1];
        console.log("aaaa" + z[1]);
        if ($parentDiv.css('display') === priorityStyle) {
          red++;
          $this.removeAttr("id");
          console.log("ret=" + red);
          return true;
        }
        $this.attr({
          id: "cke_article_contents_attributes_" + idNum + "_description"
        });
        idNum++;
        aaaa = z[1];
        console.log("last=" + aaaa);
        return console.log("lastid=" + idNum);
      }
    });
    $('fieldset div').each(function() {
      var $parentDiv, $this, z;
      if (z = $(this).prop('id').match(regz)) {
        console.log("z=" + z[1]);
        $this = $(this);
        $parentDiv = $this.parents('fieldset');
        aaaa = z[1];
        console.log("aaaa" + z[1]);
        if ($parentDiv.css('display') === priorityStyle) {
          red++;
          $this.removeAttr("id");
          console.log("ret=" + red);
          return true;
        }
        console.log("after ifz=" + z[1]);
        aaaa = z[1];
        console.log("last=" + aaaa);
        return console.log("lastid=" + idNum);
      }
    });
    for (i = k = 0, ref = aaaa; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {
      lab = $("fieldset div#cke_article_contents_attributes_" + i + "_description div div iframe").contents().find("html body");
      if (i === 0) {
        jam[0] = lab.html();
        tmp = jam[0];
        console.log("NO." + i + ".tmp" + tmp);
      }
      jam[i] = lab.html();
      console.log("NO." + i + ".inone" + jam[i]);
    }
    kml = [];
    results = [];
    for (j = l = 0, ref1 = aaaa; 0 <= ref1 ? l <= ref1 : l >= ref1; j = 0 <= ref1 ? ++l : --l) {
      kml[j] = $("fieldset div#cke_article_contents_attributes_" + j + "_description div div iframe").contents().find("html body");
      if (j === aaaa) {
        console.log("NO." + j + ".inone" + jam[j]);
        console.log("aaaaNO." + j + ".inone" + jam[aaaa - j]);
        results.push(kml[j].html(tmp));
      } else {
        console.log(j + "の場合aaaa-j=" + (aaaa - j));
        kml[j].html(jam[aaaa - j]);
        results.push(console.log("AfterNO." + j + ".inone" + jam[j]));
      }
    }
    return results;
  });

}).call(this);
